<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Event details</title>
    <th:block th:replace="~{includes/generalScript::head}"></th:block>
</head>
<body>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="float-left">
            <a class="navbar-brand" th:href="homePage.html"
               style="font-size:32px;font-weight:bolder;font-family:Georgia,serif;">MeetUp</a>
        </div>
        <div class="float-right">
            <a sec:authorize="isAuthenticated()" class="btn btn-primary" type="submit" th:href="event">Dodaj wydarzenie</a>
            <a sec:authorize="!isAuthenticated()" class="btn btn-primary" type="submit" th:href="sign-in.html">Zaloguj
                się</a>
            <a sec:authorize="!isAuthenticated()" class="btn btn-primary" type="submit" th:href="registerForm.html">Zarejestruj
                się</a>
            <a sec:authorize="isAuthenticated()" type="submit" class="btn btn-primary" th:href="@{/logout}" th:text="Wyloguj:+'  '+${userEmail}">Wyloguj</a>
        </div>
    </div>
</nav>
<br>
<br>
<div th:object="${eventDto}">
    <div class="form-group">
        <div th:text="${eventDto.title}" style="text-align:center;font-size:32px;font-weight:bolder;"></div>
    </div>
    <br>
    <div class="form-group">
        <label for="inputDateFrom" style="font-style: italic">Data rozpoczęcia</label>
        <div th:text="${eventDto.from}" id="inputDateFrom"></div>
    </div>
    <br>
    <div class="form-group">
        <label for="inputDateTo" style="font-style: italic">Data zakończenia</label>
        <div th:text="${eventDto.to}" id="inputDateTo"></div>
    </div>
    <br>
    <div class="form-group">
        <label for="inputDescription" style="font-style: italic">Opis wydarzenia</label>
        <textarea th:text="${eventDto.description}" class="form-control" id="inputDescription"></textarea>
    </div>
    <br>
    <br>
    <!--    ----------------------------------------------------------------------------------------------------------->
    <form method="post" th:actions="@{'/comment-add/' + ${eventDto.id}}" th:object="${commentDto}">
        <div>
            <div class="form-group">
                <label for="inputComment" style="font-style: italic">Dodaj komentarz</label>
                <input class="form-control" type="text" name="content" placeholder="Zaloguj się by dodać komentarz"
                       id="inputComment">
                <small class="form-text text-muted">Maksymalna długość komentarza - 500 znaków.</small>
            </div>

            <button sec:authorize="isAuthenticated()" type="submit"
                    class="btn btn-primary">
                Dodaj komentarz
            </button>
        </div>
    </form>
    <form method="post" th:actions="@{/user-to-event-add}">
        <div>
            <button sec:authorize="isAuthenticated()" type="submit"
                    class="btn btn-primary">
                Dopisz się do wydarzenia
            </button>
        </div>
    </form>
    <!--    -------------------------------------------------------------------------------------------------------------->
    <form>
        <table class="table table-striped" th:each="listElement : ${commentsList}">
            <tbody>
            <tr>
                <td th:text="${listElement.getContent()}"></td>
            </tr>
            </tbody>
        </table>
    </form>
</div>
<th:block th:replace="~{includes/generalScript::end-of-body}"></th:block>
</body>
</html>